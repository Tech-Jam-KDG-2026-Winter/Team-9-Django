{% extends 'base.html' %}
{% load static %}
{% block content %}
<div class="dashboard">
  <h2>ãƒ›ãƒ¼ãƒ </h2>
  <h1 class="gradient-text">ä»Šæ—¥ã®äºˆç´„</h1>
  {% for item in reservation_items %}
  <div class="reservation-item card-container">
    <p>{{ item.reservation.start_at }}</p>
    {% if item.reservation.status == "completed" %}
    <span class="status-badge">é”æˆ ğŸ‰</span>
    {% elif item.can_checkin %}
    <div class="checkin-container">
      <form class="checkin-form" method="post" action="{% url 'reservation_checkin' item.reservation.id %}">
        {% csrf_token %}
        <button type="button" class="open-modal-btn reserve-btn">ãƒã‚§ãƒƒã‚¯ã‚¤ãƒ³</button>
      </form>
      <div class="modal checkin-modal" style="display: none;">
        <div class="modal-content">
          <span class="cancel-checkin close-x">&times;</span>
          <h2 class="gradient-text">ãƒã‚§ãƒƒã‚¯ã‚¤ãƒ³</h2>
          <div class="modal-icon-wrapper">
            <div class="play-icon-circle"><span class="play-triangle"></span></div>
          </div>
          <p>æº–å‚™ã¯ã„ã„ã§ã™ã‹ï¼Ÿ<br><small>ãƒã‚§ãƒƒã‚¯ã‚¤ãƒ³ã—ã¦é‹å‹•ã‚’å§‹ã‚ã¾ã—ã‚‡ã†</small></p>
          <div class="modal-actions">
            <button type="button" class="confirm-checkin reserve-btn full-width">ãƒã‚§ãƒƒã‚¯ã‚¤ãƒ³ã™ã‚‹</button>
            <button type="button" class="cancel-checkin btn-link">ã‚­ãƒ£ãƒ³ã‚»ãƒ«</button>
          </div>
        </div>
      </div>
    </div>
    {% else %}
    <span>{{ item.reservation.status }}</span>
    {% endif %}
  </div>
  {% endfor %}
</div>
{% endblock %}